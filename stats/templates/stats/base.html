{% load static %}
<!doctype html>
<html lang="es">
<head>
  {% load static %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ SITE.site_name|default:HOME_TEAM.name }}</title>

  <!-- Montserrat -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'stats/css/styles.css' %}" />
</head>
<body>
  <!-- HEADER -->

<header class="topbar">
  <div class="brand">
    {% if HOME_TEAM %}
      {% if HOME_TEAM.badge %}
        <img src="{{ HOME_TEAM.badge.url }}" class="logo" alt="{{ HOME_TEAM.name }}">
      {% elif HOME_TEAM.logo %}
        <img src="{{ HOME_TEAM.logo.url }}" class="logo" alt="{{ HOME_TEAM.name }}">
      {% else %}
        <img src="{% static 'stats/pescara_placeholder.svg' %}" class="logo" alt="">
      {% endif %}
    {% else %}
      <img src="{% static 'stats/pescara_placeholder.svg' %}" class="logo" alt="">
    {% endif %}

    <span class="brand-name">
      {{ SITE.site_name|default:HOME_TEAM.name|default:"Pescara" }}
    </span>
  </div>
</header>

  <!-- NAVIGATION TABS (arriba como antes) -->
 <nav class="topnav">
  <a href="{% url 'home' %}" class="{% if request.resolver_match.url_name == 'home' %}active{% endif %}">Inicio</a>
  <a href="{% url 'standings' %}" class="{% if request.resolver_match.url_name == 'standings' %}active{% endif %}">Tabla</a>
  <a href="{% url 'matches' %}" class="{% if request.resolver_match.url_name == 'matches' %}active{% endif %}">Partidos</a>
  <a href="{% url 'players' %}" class="{% if request.resolver_match.url_name == 'players' %}active{% endif %}">Jugadores</a>
</nav>

  <main class="container">
    {% block content %}{% endblock %}
  </main>
</body>
</html>

<script>
  // Toggle genÃ©rico para cualquier elemento con data-toggle-row
  document.addEventListener('click', (e) => {
    // si hicieron click en un <a>, dejamos que navegue y no togglear
    if (e.target.closest('a')) return;

    const toggler = e.target.closest('[data-toggle-row]');
    if (!toggler) return;

    const detail = toggler.nextElementSibling;
    if (!detail || !detail.classList.contains('detail-row')) return;

    detail.classList.toggle('open');
    toggler.setAttribute('aria-expanded', detail.classList.contains('open') ? 'true' : 'false');
  });
</script>

